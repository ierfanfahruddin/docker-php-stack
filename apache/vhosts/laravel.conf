# Virtual Host for laravel Laravel Filament application

<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html/laravel/public

    # Handle PHP files through PHP-FPM
    <FilesMatch \.php$>
        SetHandler "proxy:fcgi://php-83-fpm:9000"
    </FilesMatch>

    # Directory configuration for the public folder
    <Directory "/var/www/html/laravel/public">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted

        # Enable rewrite rules for Laravel
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteRule ^ index.php [L]
    </Directory>

    # Specific configuration for Livewire and Filament assets
    <Directory "/var/www/html/laravel/public/vendor/livewire">
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    <Directory "/var/www/html/laravel/public/vendor/filament">
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    # Logging
    ErrorLog /proc/self/fd/2
    CustomLog /proc/self/fd/1 combined
</VirtualHost>